<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Colab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target=""><i class="bi bi-house" role="img">
</i> 
 <span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sergijmejia/quartoWebsite/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-python" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Python</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-python">    
        <li class="dropdown-header">Python: concepts</li>
        <li>
    <a class="dropdown-item" href="../python/python.html" rel="" target="">
 <span class="dropdown-text">Python</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Data analysys</li>
        <li>
    <a class="dropdown-item" href="../python/data_analysis.html" rel="" target="">
 <span class="dropdown-text">Data analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/numpy.html" rel="" target="">
 <span class="dropdown-text">Numpy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/pandas.html" rel="" target="">
 <span class="dropdown-text">Pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/matplotlib.html" rel="" target="">
 <span class="dropdown-text">Matplotlib</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/seaborn.html" rel="" target="">
 <span class="dropdown-text">Seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/scikit-learn.html" rel="" target="">
 <span class="dropdown-text">Scikit-learn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../python/tensorflow.html" rel="" target="">
 <span class="dropdown-text">TensorFlow</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-machine-learning" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Machine Learning</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-machine-learning">    
        <li class="dropdown-header">ML: concepts</li>
        <li>
    <a class="dropdown-item" href="../machine_learning/machine_learning.html" rel="" target="">
 <span class="dropdown-text">Machine Learning</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Supervised learning</li>
        <li>
    <a class="dropdown-item" href="../machine_learning/supervised_intro.html" rel="" target="">
 <span class="dropdown-text">Introduction to Supervised Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../machine_learning/linear_regression.html" rel="" target="">
 <span class="dropdown-text">Linear Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../machine_learning/overfitting_underfitting.html" rel="" target="">
 <span class="dropdown-text">Quality of Fit</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../machine_learning/train_test.html" rel="" target="">
 <span class="dropdown-text">Train/Test</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../machine_learning/k_neighboors.html" rel="" target="">
 <span class="dropdown-text">k-Nearest Neighboors</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../machine_learning/tree_methods.html" rel="" target="">
 <span class="dropdown-text">Tree-Based Methods</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-neural-networks" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Neural Networks</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-neural-networks">    
        <li class="dropdown-header">NN: concepts</li>
        <li>
    <a class="dropdown-item" href="../neural_networks/neuralNetworks.html" rel="" target="">
 <span class="dropdown-text">Neural Networks</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">NN types</li>
        <li>
    <a class="dropdown-item" href="../neural_networks/cnn.html" rel="" target="">
 <span class="dropdown-text">Convolusional Neural Network (CNN)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../neural_networks/gan.html" rel="" target="">
 <span class="dropdown-text">Generative Adversarial Networks (GANs)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../neural_networks/ts.html" rel="" target="">
 <span class="dropdown-text">Time Series (TS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../neural_networks/rnn.html" rel="" target="">
 <span class="dropdown-text">Recurrent Neural Networks (RNN)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../neural_networks/nlp.html" rel="" target="">
 <span class="dropdown-text">Natural Language Processing (NLP)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-google-colab" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Google Colab</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-google-colab">    
        <li class="dropdown-header">Colab: concepts</li>
        <li>
    <a class="dropdown-item" href="../colab/colab_intro.html" rel="" target="">
 <span class="dropdown-text">Colab</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-head-count-project" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Head-count project</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-head-count-project">    
        <li class="dropdown-header">Project: concepts</li>
        <li>
    <a class="dropdown-item" href="../project/Proyecto_HeadCounting.html" rel="" target="">
 <span class="dropdown-text">Project</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">About</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li class="dropdown-header">About me and this site</li>
        <li>
    <a class="dropdown-item" href="../about/about_me.html" rel="" target="">
 <span class="dropdown-text">About me</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../about/about_site.html" rel="" target="">
 <span class="dropdown-text">About this site</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../colab/colab_intro.html">Colab: concepts</a></li><li class="breadcrumb-item"><a href="../colab/colab_intro.html">Colab</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
 <span class="menu-text">Google Colab</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Colab: concepts</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../colab/colab_intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Colab</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Colab</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>What is Google Colab?</strong></p>
<p>Google Colab, short for Google Colaboratory, is a cloud-based platform provided by Google that offers free Jupyter notebooks with GPU and TPU (Tensor Processing Unit) support. It allows users to write and execute Python code collaboratively, directly in the browser, without requiring any setup or installation.</p>
<p>Some key features of Google Colab include:</p>
<ul>
<li><p><em>Free access to GPUs and TPUs:</em> Google Colab provides free access to Graphics Processing Units (GPUs) and Tensor Processing Units (TPUs), which are hardware accelerators commonly used for training machine learning models and processing large datasets.</p></li>
<li><p><em>Jupyter Notebooks integration:</em> Colab supports Jupyter notebooks, which allow users to write and execute code in a cell-based format, making it easy to write, run, and visualize code and results.</p></li>
<li><p><em>Collaboration and sharing:</em> Colab allows multiple users to collaborate on the same notebook simultaneously, similar to Google Docs. Users can share their notebooks with others, making it easy to collaborate on projects or share code and analyses.</p></li>
<li><p><em>Integration with Google Drive:</em> Colab notebooks are stored in Google Drive, allowing users to access and manage their notebooks directly from their Google Drive account.</p></li>
<li><p><em>Support for popular libraries and frameworks:</em> Colab comes pre-installed with many popular Python libraries and frameworks, including TensorFlow, Keras, Pandas, Numpy and scikit-learn, making it suitable for a wide range of machine learning and data analysis tasks.</p></li>
</ul>
<p>Overall, Google Colab provides a convenient and powerful environment for writing, running, and sharing code, particularly for tasks involving machine learning and data analysis, thanks to its access to GPUs and TPUs.</p>
<p><strong>Limitations and restrictions</strong></p>
<p>Google Colab provides free access to computational resources, including CPU, GPU, and TPU, but there are limitations and restrictions on the usage of these resources:</p>
<ul>
<li><p><em>Session Timeout:</em> Colab sessions have a maximum duration of 12 hours. After this period, the session will automatically disconnect, and any unsaved work will be lost. Users can reconnect to a new session, but they will lose access to any temporary files or variables stored in the previous session.</p></li>
<li><p><em>Idle Timeout:</em> If a Colab notebook remains idle for a certain period, typically around 30 minutes, the session may disconnect automatically. This idle timeout is in place to conserve resources and ensure fair usage of the platform.</p></li>
<li><p><em>Resource Limits:</em> While Colab offers free access to GPU and TPU resources, there are usage limits and restrictions on the availability of these resources. For example, the free version of Colab may limit the maximum amount of GPU memory available, restrict access to certain GPU models, and impose quotas on the total usage of GPU and TPU resources.</p></li>
<li><p><em>Memory Limits:</em> Colab imposes memory limits on the amount of RAM available to a notebook. The exact limit may vary depending on the type of virtual machine allocated to the session but typically ranges from 12 GB to 25 GB.</p></li>
<li><p><em>Storage Limits:</em> Colab notebooks are stored in Google Drive, which provides limited storage space for free Google accounts. Users may encounter storage limits if they exceed the allocated quota for Google Drive storage.</p></li>
<li><p><em>Concurrency Limits:</em> Colab may limit the number of concurrent sessions or active sessions per user. Users may experience delays or restrictions in accessing resources during periods of high demand.</p></li>
<li><p><em>Network Access:</em> Colab restricts outbound network access for security reasons. Users may encounter limitations when trying to access external resources or services, such as databases, APIs, or websites.</p></li>
</ul>
<p>It’s essential to be aware of these limitations when using Google Colab, especially for tasks that require extended computation or large amounts of data. While Colab provides valuable resources for experimentation, prototyping, and learning, users may need to consider alternative options or paid cloud services for more intensive or long-running workloads.</p>
<p><strong>Colab Pro</strong></p>
<p>Google Colab offers a paid version called “Colab Pro” that provides additional features and benefits compared to the free version. Here are some key aspects of Colab Pro:</p>
<ul>
<li><p><em>Increased Resource Limits:</em> Colab Pro users have access to higher resource limits compared to the free version. This includes higher GPU memory limits, faster GPU models, and potentially longer session durations.</p></li>
<li><p><em>Priority Access:</em> Colab Pro users may receive priority access to resources, which can reduce wait times and ensure faster execution of tasks, especially during periods of high demand.</p></li>
<li><p><em>Longer Session Durations:</em> Colab Pro users may have access to longer session durations compared to the free version, allowing them to run computations and experiments for extended periods without interruption.</p></li>
<li><p><em>Additional Storage:</em> Colab Pro users may receive additional storage space for Google Drive, which can be useful for storing larger datasets, files, or notebooks.</p></li>
<li><p><em>No Idle Timeout:</em> Colab Pro sessions may not be subject to the idle timeout restrictions imposed on the free version, allowing users to maintain active sessions for longer periods without disconnection.</p></li>
<li><p><em>Technical Support:</em> Colab Pro users may receive access to priority technical support from Google, which can be beneficial for resolving issues or troubleshooting problems quickly.</p></li>
<li><p><em>Customization and Control:</em> Colab Pro users may have access to additional customization options and control over their computing environment, allowing them to tailor the environment to their specific needs and preferences.</p></li>
</ul>
<p>Colab Pro is a subscription-based service, and users are billed on a monthly basis. The pricing and availability of Colab Pro may vary depending on factors such as region and currency. Users can sign up for Colab Pro directly through the Google Colab website or the Google Cloud Platform console.</p>
<p>Overall, Colab Pro offers a range of benefits and features that can enhance the user experience and productivity, especially for users with demanding computational requirements or those who require additional resources and support.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>